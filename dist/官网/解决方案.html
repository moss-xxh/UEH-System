<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>解决方案 - 管理系统</title>
    <link rel="stylesheet" href="components/common.css">
    <style>
        /* 解决方案特定样式 */
        .solution-container {
            padding: 24px;
            background: #f5f5f5;
            min-height: calc(100vh - 56px);
        }

        .solution-header {
            background: white;
            padding: 24px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            margin-bottom: 24px;
            text-align: center;
        }

        .solution-header h2 {
            font-size: 28px;
            font-weight: 600;
            color: #333;
            margin-bottom: 8px;
        }

        .solution-header p {
            color: #666;
            font-size: 16px;
            margin: 0;
        }

        /* Banner样式 */
        .solution-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 16px;
            padding: 40px;
            margin-bottom: 24px;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .solution-banner::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 200px;
            height: 200px;
            background: rgba(255,255,255,0.1);
            border-radius: 50%;
            transform: translate(50%, -50%);
        }

        .solution-banner::after {
            content: '';
            position: absolute;
            bottom: 0;
            left: 0;
            width: 150px;
            height: 150px;
            background: rgba(255,255,255,0.05);
            border-radius: 50%;
            transform: translate(-30%, 30%);
        }

        .banner-content {
            position: relative;
            z-index: 1;
        }

        .banner-title {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 16px;
            text-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }

        .banner-subtitle {
            font-size: 18px;
            margin-bottom: 24px;
            opacity: 0.9;
        }

        .banner-features {
            display: flex;
            gap: 32px;
            margin-bottom: 32px;
            flex-wrap: wrap;
        }

        .banner-feature {
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .banner-feature-icon {
            width: 24px;
            height: 24px;
            background: rgba(255,255,255,0.2);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
        }

        .banner-actions {
            display: flex;
            gap: 16px;
            flex-wrap: wrap;
        }

        .banner-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            text-decoration: none;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .banner-btn-primary {
            background: rgba(255,255,255,0.9);
            color: #333;
        }

        .banner-btn-primary:hover {
            background: white;
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .banner-btn-secondary {
            background: rgba(255,255,255,0.1);
            color: white;
            border: 2px solid rgba(255,255,255,0.3);
        }

        .banner-btn-secondary:hover {
            background: rgba(255,255,255,0.2);
            border-color: rgba(255,255,255,0.5);
        }

        .solution-tabs {
            display: flex;
            gap: 4px;
            margin-bottom: 24px;
            background: #f8f9fa;
            padding: 4px;
            border-radius: 8px;
        }

        .solution-tab {
            flex: 1;
            padding: 12px 16px;
            border: none;
            background: transparent;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
        }

        .solution-tab.active {
            background: white;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            color: #1890ff;
        }

        .solution-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 24px;
        }

        .solution-grid.table-mode {
            display: block;
            grid-template-columns: none;
            gap: 0;
        }

        .solution-card {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .solution-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }

        .solution-image {
            width: 100%;
            height: 200px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            position: relative;
        }

        .solution-content {
            padding: 24px;
        }

        .solution-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin-bottom: 12px;
        }

        .solution-description {
            color: #666;
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .solution-features {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 16px;
        }

        .feature-tag {
            padding: 4px 8px;
            background: #f0f2f5;
            border-radius: 4px;
            font-size: 12px;
            color: #666;
        }

        .solution-footer {
            display: flex;
            justify-content: between;
            align-items: center;
            padding-top: 16px;
            border-top: 1px solid #f0f0f0;
        }

        .solution-price {
            font-size: 18px;
            font-weight: 600;
            color: #1890ff;
        }

        .solution-actions {
            display: flex;
            gap: 8px;
        }

        .btn-detail, .btn-contact {
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            cursor: pointer;
            font-size: 14px;
            transition: all 0.2s;
        }

        .btn-detail {
            background: #f0f2f5;
            color: #333;
        }

        .btn-detail:hover {
            background: #d9d9d9;
        }

        .btn-contact {
            background: #1890ff;
            color: white;
        }

        .btn-contact:hover {
            background: #40a9ff;
        }

        .stats-overview {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 16px;
            margin-bottom: 24px;
        }

        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.08);
            text-align: center;
        }

        .stat-number {
            font-size: 32px;
            font-weight: 700;
            margin-bottom: 8px;
        }

        .stat-label {
            font-size: 14px;
            color: #666;
        }

        .industry-solutions .stat-number { color: #52c41a; }
        .custom-solutions .stat-number { color: #1890ff; }
        .cloud-solutions .stat-number { color: #722ed1; }
        .mobile-solutions .stat-number { color: #fa8c16; }

        /* 图片管理表格样式 - 与文档资料页面一致 */
        .image-management-container {
            background: #fff;
            border-radius: 8px;
            overflow: hidden;
            border: 1px solid rgba(0, 0, 0, 0.06);
        }

        .table-header {
            padding: 20px 24px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .table-title {
            font-size: 16px;
            font-weight: 500;
            color: #000;
            margin: 0;
        }


        .image-table {
            width: 100%;
        }

        .image-table th {
            text-align: left;
            padding: 16px 12px;
            font-size: 12px;
            font-weight: 500;
            color: rgba(0, 0, 0, 0.5);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            background: #fafafa;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
        }

        .image-table td {
            padding: 16px 12px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.06);
            font-size: 14px;
            color: #000;
        }

        .image-table tbody tr:last-child td {
            border-bottom: none;
        }

        .image-table tbody tr {
            transition: background 0.15s;
        }

        .image-table tbody tr:hover {
            background: rgba(0, 0, 0, 0.02);
        }

        .image-preview {
            width: 80px;
            height: 60px;
            object-fit: cover;
            border-radius: 6px;
            border: 1px solid #e8e8e8;
        }

        .image-placeholder {
            width: 80px;
            height: 60px;
            background: #f5f5f5;
            border-radius: 6px;
            border: 2px dashed #d9d9d9;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 12px;
        }

        .action-buttons {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .btn-edit, .btn-delete, .btn-upload, .btn-preview {
            padding: 4px 8px;
            border: none;
            background: transparent;
            color: rgba(0, 0, 0, 0.6);
            font-size: 13px;
            cursor: pointer;
            transition: color 0.2s;
            text-decoration: none;
            text-align: left;
        }

        .btn-edit:hover, .btn-preview:hover {
            color: #000;
        }

        .btn-delete:hover {
            color: #000;
        }

        .btn-upload:hover {
            color: #000;
        }

        .status-badge {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: 500;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .status-active {
            background: #d1fae5;
            color: #065f46;
        }

        .status-inactive {
            background: #fed7aa;
            color: #92400e;
        }

        .empty-state {
            padding: 60px 20px;
            text-align: center;
            color: #999;
        }

        .empty-icon {
            font-size: 48px;
            margin-bottom: 16px;
            opacity: 0.5;
        }

        .empty-text {
            font-size: 16px;
            margin-bottom: 20px;
        }

        /* 模态框样式 */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 24px;
            width: 500px;
            max-width: 90vw;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .modal-title {
            font-size: 18px;
            font-weight: 600;
            color: #333;
            margin: 0;
        }

        .modal-close {
            background: none;
            border: none;
            font-size: 20px;
            cursor: pointer;
            color: #999;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            margin-bottom: 6px;
            font-weight: 500;
            color: #333;
            font-size: 14px;
        }

        .form-input, .form-textarea, .form-select {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid #d9d9d9;
            border-radius: 6px;
            font-size: 14px;
            transition: border-color 0.2s;
        }

        .form-input:focus, .form-textarea:focus, .form-select:focus {
            outline: none;
            border-color: #1890ff;
            box-shadow: 0 0 0 2px rgba(24,144,255,0.1);
        }

        .form-textarea {
            min-height: 80px;
            resize: vertical;
        }

        .file-input-group {
            border: 2px dashed #d9d9d9;
            border-radius: 6px;
            padding: 20px;
            text-align: center;
            transition: border-color 0.2s;
            cursor: pointer;
        }

        .file-input-group:hover {
            border-color: #1890ff;
        }

        .file-input-group.dragover {
            border-color: #1890ff;
            background: rgba(24,144,255,0.05);
        }

        .file-input {
            display: none;
        }

        .modal-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid #f0f0f0;
        }

        .btn-cancel, .btn-save {
            padding: 8px 16px;
            border: 1px solid rgba(0, 0, 0, 0.12);
            background: #fff;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 6px;
        }

        .btn-cancel:hover {
            background: #000;
            color: #fff;
            border-color: #000;
        }

        .btn-save {
            background: #000;
            color: #fff;
            border-color: #000;
        }

        .btn-save:hover {
            background: #333;
            border-color: #333;
        }

        /* Navigation menu styles */
        .nav-group.expanded .nav-arrow {
            transform: rotate(90deg);
        }

        .nav-submenu {
            display: none;
            background: rgba(0, 0, 0, 0.02);
        }

        .nav-group.expanded .nav-submenu {
            display: block;
        }

        .nav-subitem {
            height: 40px;
            display: flex;
            align-items: center;
            padding: 0 20px 0 40px;
            color: rgba(0, 0, 0, 0.5);
            text-decoration: none;
            transition: all 0.2s;
            cursor: pointer;
            font-size: 14px;
            position: relative;
        }

        .nav-subitem:hover {
            color: #000;
            background: rgba(0, 0, 0, 0.03);
        }

        .nav-subitem.active {
            color: #000;
            background: rgba(0, 0, 0, 0.05);
        }

        .nav-subitem.active::before {
            content: '';
            position: absolute;
            top: 0;
            right: 0;
            width: 3px;
            height: 100%;
            background: #000;
        }

        /* User Menu Styles */
        .user-menu {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: #000;
            color: #fff;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 500;
            font-size: 14px;
            cursor: pointer;
            margin-left: 8px;
            position: relative;
        }

        .user-dropdown {
            position: absolute;
            top: 45px;
            right: 0;
            background: #fff;
            border: 1px solid rgba(0, 0, 0, 0.08);
            border-radius: 8px;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
            min-width: 160px;
            opacity: 0;
            visibility: hidden;
            transform: translateY(-10px);
            transition: all 0.2s ease;
            z-index: 1000;
        }

        .user-dropdown.show {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .dropdown-item {
            display: flex;
            align-items: center;
            padding: 12px 16px;
            color: #374151;
            text-decoration: none;
            font-size: 14px;
            transition: background-color 0.15s ease;
            border: none;
            background: none;
            cursor: pointer;
            width: 100%;
            text-align: left;
        }

        .dropdown-item:hover {
            background: #f3f4f6;
        }

        /* Custom Modal Styles */
        .custom-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            opacity: 0;
            visibility: hidden;
            transition: all 0.2s ease;
        }

        .custom-modal.show {
            opacity: 1;
            visibility: visible;
        }

        .modal-content {
            background: white;
            border-radius: 12px;
            padding: 32px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            transform: scale(0.9);
            transition: transform 0.2s ease;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }

        .custom-modal.show .modal-content {
            transform: scale(1);
        }

        .modal-icon {
            width: 48px;
            height: 48px;
            border-radius: 50%;
            background: #fef2f2;
            color: #dc2626;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 20px;
            font-size: 24px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 600;
            color: #1f2937;
            margin: 0 0 12px 0;
        }

        .modal-message {
            color: #6b7280;
            line-height: 1.5;
            margin: 0 0 32px 0;
            font-size: 16px;
        }

        .modal-buttons {
            display: flex;
            gap: 12px;
            justify-content: center;
        }

        .modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.15s ease;
            min-width: 100px;
        }

        .modal-btn-cancel {
            background: #f3f4f6;
            color: #374151;
        }

        .modal-btn-cancel:hover {
            background: #e5e7eb;
        }

        .modal-btn-confirm {
            background: #dc2626;
            color: white;
        }

        .modal-btn-confirm:hover {
            background: #b91c1c;
        }

    </style>
</head>
<body>
    <div class="app">
        <!-- Universal Sidebar -->
        <aside class="sidebar" id="sidebar">
            <div class="logo">
                <div class="logo-icon">
                    <img src="logo.png" alt="Logo">
                </div>
            </div>
            
            <nav class="nav">
                <!-- 首页 -->
                <a href="首页.html" class="nav-item" data-page="home">
                    <span class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"/>
                            <polyline points="9,22 9,12 15,12 15,22"/>
                        </svg>
                    </span>
                    <span class="nav-text">首页</span>
                </a>
                <!-- 产品中心 -->
                <a href="产品.html" class="nav-item" data-page="products">
                    <span class="nav-icon">
                        <svg viewBox="0 0 24 24">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <rect x="7" y="7" width="3" height="3"/>
                            <rect x="14" y="7" width="3" height="3"/>
                            <rect x="7" y="14" width="3" height="3"/>
                            <rect x="14" y="14" width="3" height="3"/>
                        </svg>
                    </span>
                    <span class="nav-text">产品中心</span>
                </a>
                <!-- 解决方案 -->
                <div class="nav-group" id="solutionsGroup">
                    <a href="#" class="nav-item" id="solutionsNav" data-page="solutions" onclick="toggleSubmenu('solutionsGroup', this)">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/>
                            </svg>
                        </span>
                        <span class="nav-text">解决方案</span>
                        <span class="nav-arrow">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M6 4l4 4-4 4"/>
                            </svg>
                        </span>
                    </a>
                    <div class="nav-submenu" id="solutionsSubmenu">
                        <a href="解决方案.html?type=banner" class="nav-subitem" data-section="banner">
                            <span class="nav-text">banner</span>
                        </a>
                        <a href="解决方案.html?type=residential" class="nav-subitem" data-section="residential">
                            <span class="nav-text">户用</span>
                        </a>
                        <a href="解决方案.html?type=commercial" class="nav-subitem" data-section="commercial">
                            <span class="nav-text">工商储</span>
                        </a>
                        <a href="解决方案.html?type=charging" class="nav-subitem" data-section="charging">
                            <span class="nav-text">充电站</span>
                        </a>
                    </div>
                </div>
                <!-- 帮助中心 -->
                <div class="nav-group" id="helpCenterGroup">
                    <a href="#" class="nav-item" id="helpCenterNav" data-page="help-center" onclick="toggleSubmenu('helpCenterGroup', this)">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3"/>
                                <circle cx="12" cy="17" r="0.5"/>
                            </svg>
                        </span>
                        <span class="nav-text">帮助中心</span>
                        <span class="nav-arrow">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M6 4l4 4-4 4"/>
                            </svg>
                        </span>
                    </a>
                    <div class="nav-submenu" id="helpSubmenu">
                        <a href="文档资料.html" class="nav-subitem" data-section="documents">
                            <span class="nav-text">文档资料</span>
                        </a>
                        <a href="在线帮助.html" class="nav-subitem" data-section="online-help">
                            <span class="nav-text">在线帮助</span>
                        </a>
                    </div>
                </div>
                <!-- 关于我们 -->
                <div class="nav-group" id="aboutUsGroup">
                    <a href="#" class="nav-item" id="aboutUsNav" data-page="about-us" onclick="toggleSubmenu('aboutUsGroup', this)">
                        <span class="nav-icon">
                            <svg viewBox="0 0 24 24">
                                <path d="M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                                <circle cx="8.5" cy="7" r="4"/>
                                <path d="M20 8v6M23 11h-6"/>
                            </svg>
                        </span>
                        <span class="nav-text">关于我们</span>
                        <span class="nav-arrow">
                            <svg width="16" height="16" viewBox="0 0 16 16" fill="currentColor">
                                <path d="M6 4l4 4-4 4"/>
                            </svg>
                        </span>
                    </a>
                    <div class="nav-submenu" id="aboutSubmenu">
                        <a href="关于我们.html" class="nav-subitem" data-section="about-xuhenew">
                            <span class="nav-text">关于旭衡</span>
                        </a>
                        <a href="联系我们.html" class="nav-subitem" data-section="contact-us">
                            <span class="nav-text">联系我们</span>
                        </a>
                    </div>
                </div>
            </nav>
        </aside>

        <!-- Main -->
        <main class="main">
            <!-- Header -->
            <header class="header">
                <h1 class="header-title">解决方案</h1>
                <div class="header-actions">
                    <div class="user-menu" id="userAvatar">A
                        <div class="user-dropdown" id="userDropdown">
                            <button class="dropdown-item" id="logoutBtn">退出登录</button>
                        </div>
                    </div>
                </div>
            </header>

            <!-- Content -->
            <div class="solution-container">
                <!-- 统计概览 -->



                <!-- 解决方案列表 -->
                <div class="solution-grid" id="solutionGrid">
                    <!-- 解决方案卡片将通过JavaScript动态生成 -->
                </div>
            </div>
        </main>
    </div>

    <script>
        // Toggle submenu function
        function toggleSubmenu(groupId, navItem) {
            console.log('Toggle submenu called:', groupId, navItem);
            const navGroup = document.getElementById(groupId);
            if (navGroup) {
                navGroup.classList.toggle('expanded');
                console.log('Group expanded:', navGroup.classList.contains('expanded'));
                
                // 如果展开，设置为活跃状态
                if (navGroup.classList.contains('expanded')) {
                    document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                    navItem.classList.add('active');
                }
            }
            return false;
        }

        // Universal Sidebar Functions
        function initUniversalSidebar() {
            // 获取当前页面路径
            const currentPath = window.location.pathname;
            const currentPage = currentPath.substring(currentPath.lastIndexOf('/') + 1);
            console.log('Full URL:', window.location.href);
            console.log('Current path:', currentPath);
            console.log('Current page:', currentPage);
            
            // 设置当前页面对应的导航项为活跃状态
            setActiveNavigation(currentPage);
            
            // 初始化导航项点击事件 - 已使用onclick属性，无需额外绑定
            // initNavigationEvents();
        }

        function setActiveNavigation(currentPage) {
            // 清除所有活跃状态
            document.querySelectorAll('.nav-item').forEach(item => item.classList.remove('active'));
            document.querySelectorAll('.nav-subitem').forEach(item => item.classList.remove('active'));
            document.querySelectorAll('.nav-group').forEach(group => group.classList.remove('expanded'));
            
            // 根据当前页面设置活跃状态
            switch(currentPage) {
                case '首页.html':
                case '':
                    document.querySelector('.nav-item[data-page="home"]')?.classList.add('active');
                    break;
                case '产品.html':
                    document.querySelector('.nav-item[data-page="products"]')?.classList.add('active');
                    break;
                case '解决方案.html':
                    console.log('Setting solutions menu as expanded');
                    document.getElementById('solutionsGroup').classList.add('expanded');
                    document.getElementById('solutionsNav').classList.add('active');
                    
                    // 根据URL参数决定激活哪个子菜单项
                    const urlParams = new URLSearchParams(window.location.search);
                    const solutionType = urlParams.get('type');
                    if (solutionType) {
                        document.querySelector(`.nav-subitem[data-section="${solutionType}"]`)?.classList.add('active');
                    }
                    break;
                case '文档资料.html':
                    document.getElementById('helpCenterGroup').classList.add('expanded');
                    document.getElementById('helpCenterNav').classList.add('active');
                    document.querySelector('.nav-subitem[data-section="documents"]')?.classList.add('active');
                    break;
                case '在线帮助.html':
                    document.getElementById('helpCenterGroup').classList.add('expanded');
                    document.getElementById('helpCenterNav').classList.add('active');
                    document.querySelector('.nav-subitem[data-section="online-help"]')?.classList.add('active');
                    break;
                case '关于我们.html':
                    document.getElementById('aboutUsGroup').classList.add('expanded');
                    document.getElementById('aboutUsNav').classList.add('active');
                    document.querySelector('.nav-subitem[data-section="about-xuhenew"]')?.classList.add('active');
                    break;
                    document.getElementById('aboutUsGroup').classList.add('expanded');
                    document.getElementById('aboutUsNav').classList.add('active');
                    document.querySelector('.nav-subitem[data-section="join-us"]')?.classList.add('active');
                    break;
                case '联系我们.html':
                    document.getElementById('aboutUsGroup').classList.add('expanded');
                    document.getElementById('aboutUsNav').classList.add('active');
                    document.querySelector('.nav-subitem[data-section="contact-us"]')?.classList.add('active');
                    break;
                    document.getElementById('aboutUsGroup').classList.add('expanded');
                    document.getElementById('aboutUsNav').classList.add('active');
                    document.querySelector('.nav-subitem[data-section="latest-news"]')?.classList.add('active');
                    break;
                    document.querySelector('.nav-item[data-page="cloud-demo"]')?.classList.add('active');
                    break;
            }
        }

        function initNavigationEvents() {
            // 一级菜单点击事件
            document.querySelectorAll('.nav-item').forEach(item => {
                item.addEventListener('click', function(e) {
                    const textElement = this.querySelector('.nav-text');
                    if (!textElement) return;
                    
                    const title = textElement.textContent.trim();
                    
                    if (title === '帮助中心') {
                        const href = this.getAttribute('href');
                        
                        // 如果是跳转到其他页面的链接，允许默认行为
                        if (href && (href.endsWith('.html') && href !== window.location.pathname.split('/').pop())) {
                            // 不阻止默认行为，让浏览器正常跳转
                            return;
                        }
                        
                        e.preventDefault();
                        // 切换帮助中心子菜单展开状态
                        const navGroup = this.closest('.nav-group');
                        navGroup.classList.toggle('expanded');
                        
                        // 如果展开，设置为活跃状态
                        if (navGroup.classList.contains('expanded')) {
                            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                            this.classList.add('active');
                        }
                    } else if (title === '解决方案') {
                        e.preventDefault();
                        // 切换解决方案子菜单展开状态
                        const navGroup = this.closest('.nav-group');
                        navGroup.classList.toggle('expanded');
                        
                        // 如果展开，设置为活跃状态
                        if (navGroup.classList.contains('expanded')) {
                            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                            this.classList.add('active');
                        }
                    } else if (title === '关于我们') {
                        const href = this.getAttribute('href');
                        
                        // 如果是跳转到其他页面的链接，允许默认行为
                        if (href && (href.endsWith('.html') && href !== window.location.pathname.split('/').pop())) {
                            // 不阻止默认行为，让浏览器正常跳转
                            return;
                        }
                        
                        e.preventDefault();
                        // 切换关于我们子菜单展开状态
                        const navGroup = this.closest('.nav-group');
                        navGroup.classList.toggle('expanded');
                        
                        // 如果展开，设置为活跃状态
                        if (navGroup.classList.contains('expanded')) {
                            document.querySelectorAll('.nav-item').forEach(i => i.classList.remove('active'));
                            this.classList.add('active');
                        }
                    }
                });
            });
        }

        // 从localStorage加载Banner配置数据，如果没有则使用默认配置
        let bannerConfig = {
            banner: {
                title: "Banner管理系统",
                subtitle: "管理和配置各类横幅展示内容，提供灵活的展示方案",
                features: [
                    { icon: "🎨", text: "自定义设计" },
                    { icon: "📱", text: "响应式布局" },
                    { icon: "⚡", text: "快速部署" },
                    { icon: "📊", text: "数据统计" }
                ],
                primaryAction: { text: "创建Banner", action: "create" },
                secondaryAction: { text: "模板库", action: "templates" }
            },
            residential: {
                title: "",
                subtitle: "",
                features: [],
                primaryAction: { text: "", action: "" },
                secondaryAction: { text: "", action: "" }
            },
            commercial: {
                title: "工商储能 降本增效",
                subtitle: "为工商业用户提供专业的储能解决方案，有效降低用电成本",
                features: [
                    { icon: "📊", text: "削峰填谷" },
                    { icon: "💼", text: "需量管理" },
                    { icon: "🔋", text: "大容量储能" },
                    { icon: "📈", text: "收益分析" }
                ],
                primaryAction: { text: "方案定制", action: "customize" },
                secondaryAction: { text: "案例分享", action: "cases" }
            },
            charging: {
                title: "充电站建设 绿色出行",
                subtitle: "构建智能化充电基础设施，助力电动汽车产业发展",
                features: [
                    { icon: "🚗", text: "快速充电" },
                    { icon: "🌱", text: "绿色能源" },
                    { icon: "💳", text: "便捷支付" },
                    { icon: "🔧", text: "智能运维" }
                ],
                primaryAction: { text: "建站咨询", action: "build" },
                secondaryAction: { text: "运营支持", action: "support" }
            }
        };

        // 解决方案数据
        const solutions = {
            // 户用解决方案
            residential: [
                // 户用解决方案内容已清空
            ],
            // 工商储解决方案
            commercial: [
                // 工商储解决方案内容已清空
            ],
            // 充电站解决方案
            charging: [
                // 充电站解决方案内容已清空
            ]
        };

        // 获取当前解决方案类型
        function getCurrentSolutionType() {
            const urlParams = new URLSearchParams(window.location.search);
            return urlParams.get('type') || 'residential'; // 默认显示户用解决方案
        }

        // 渲染Banner
        function renderBanner() {
            const bannerElement = document.getElementById('solutionBanner');
            const solutionType = getCurrentSolutionType();
            const bannerData = bannerConfig[solutionType];
            
            if (!bannerData) {
                bannerElement.style.display = 'none';
                return;
            }
            
            bannerElement.style.display = 'block';
            bannerElement.innerHTML = `
                <div class="banner-content">
                    <div class="banner-title">${bannerData.title}</div>
                    <div class="banner-subtitle">${bannerData.subtitle}</div>
                    <div class="banner-features">
                        ${bannerData.features.map(feature => `
                            <div class="banner-feature">
                                <div class="banner-feature-icon">${feature.icon}</div>
                                <span>${feature.text}</span>
                            </div>
                        `).join('')}
                    </div>
                    <div class="banner-actions">
                        <button class="banner-btn banner-btn-primary" onclick="handleBannerAction('${bannerData.primaryAction.action}')">
                            ${bannerData.primaryAction.text}
                        </button>
                        <button class="banner-btn banner-btn-secondary" onclick="handleBannerAction('${bannerData.secondaryAction.action}')">
                            ${bannerData.secondaryAction.text}
                        </button>
                    </div>
                </div>
            `;
        }

        // 渲染解决方案列表或图片管理表格
        function renderSolutions() {
            const solutionGrid = document.getElementById('solutionGrid');
            const solutionType = getCurrentSolutionType();
            
            // 更新页面标题
            updatePageTitle(solutionType);
            
            if (solutionType === 'banner') {
                // banner页面显示图片管理表格
                renderImageManagementTable();
            } else {
                // 其他解决方案显示待开发中状态，移除table-mode类
                solutionGrid.classList.remove('table-mode');
                const currentSolutions = solutions[solutionType] || [];
                
                if (currentSolutions.length === 0) {
                    // 显示待开发中状态
                    const titleMap = {
                        'residential': '户用待开发中',
                        'commercial': '工商储待开发中', 
                        'charging': '充电站待开发中'
                    };
                    const pageTitle = titleMap[solutionType] || '内容待开发中';
                    
                    solutionGrid.innerHTML = `
                        <div style="display: flex; align-items: center; justify-content: center; min-height: 70vh; grid-column: 1/-1;">
                            <div style="text-align: center; color: rgba(0, 0, 0, 0.6);">
                                <div style="font-size: 48px; margin-bottom: 20px;">🚧</div>
                                <h2 style="font-size: 24px; margin-bottom: 10px; color: #000;">${pageTitle}</h2>
                                <p style="font-size: 16px;">页面正在开发中，敬请期待</p>
                            </div>
                        </div>
                    `;
                } else {
                    solutionGrid.innerHTML = currentSolutions.map(solution => `
                        <div class="solution-card">
                            <div class="solution-image">
                                ${solution.icon}
                            </div>
                            <div class="solution-content">
                                <h3 class="solution-title">${solution.title}</h3>
                                <p class="solution-description">${solution.description}</p>
                                <div class="solution-features">
                                    ${solution.features.map(feature => `<span class="feature-tag">${feature}</span>`).join('')}
                                </div>
                                <div class="solution-footer">
                                    <div class="solution-price">${solution.price}</div>
                                    <div class="solution-actions">
                                        <button class="btn-detail" onclick="viewDetail(${solution.id})">详情</button>
                                        <button class="btn-contact" onclick="contactUs(${solution.id})">咨询</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `).join('');
                }
            }
        }

        // 更新页面标题
        function updatePageTitle(solutionType) {
            const titleElement = document.getElementById('solutionTitle');
            const subtitleElement = document.getElementById('solutionSubtitle');
            const headerTitle = document.querySelector('.header-title');
            
            const titleMap = {
                'residential': {
                    title: '户用解决方案',
                    subtitle: ''
                },
                'commercial': {
                    title: '工商储解决方案',
                    subtitle: '为工商业用户提供的大容量储能与能源管理系统'
                },
                'charging': {
                    title: '充电站解决方案',
                    subtitle: '电动汽车充电基础设施及储能一体化解决方案'
                }
            };
            
            const config = titleMap[solutionType] || titleMap['residential'];
            if (titleElement) titleElement.textContent = config.title;
            if (subtitleElement) subtitleElement.textContent = config.subtitle;
            if (headerTitle) headerTitle.textContent = config.title;
        }

        // 查看详情
        function viewDetail(id) {
            alert(`查看解决方案详情 ID: ${id}`);
        }

        // 联系咨询
        function contactUs(id) {
            alert(`咨询解决方案 ID: ${id}`);
        }

        // 处理Banner按钮点击
        function handleBannerAction(action) {
            switch(action) {
                case 'contact':
                    alert('立即咨询 - 专业客服将为您提供一对一服务');
                    break;
                case 'download':
                    alert('产品手册下载 - 详细了解产品规格和技术参数');
                    break;
                case 'customize':
                    alert('方案定制 - 根据您的需求定制专属解决方案');
                    break;
                case 'cases':
                    alert('案例分享 - 查看成功案例和客户反馈');
                    break;
                case 'build':
                    alert('建站咨询 - 专业团队为您规划充电站建设方案');
                    break;
                case 'support':
                    alert('运营支持 - 提供全方位的充电站运营管理服务');
                    break;
                default:
                    alert('功能开发中，敬请期待');
            }
        }



        // 图片管理数据
        let imageData = JSON.parse(localStorage.getItem('residentialImages')) || [
            {
                id: 1,
                name: "首页轮播图1",
                description: "户用储能系统主要展示图片",
                url: "https://picsum.photos/800/600?random=1",
                page: "户用",
                status: "active",
                uploadDate: "2024-01-15 09:30:00"
            },
            {
                id: 2,
                name: "产品详情图",
                description: "户用光储一体机产品展示",
                url: "https://picsum.photos/800/600?random=2",
                page: "工商储",
                status: "active",
                uploadDate: "2024-01-20 14:15:30"
            },
            {
                id: 3,
                name: "应用场景图",
                description: "家庭应用场景示意图",
                url: "https://picsum.photos/800/600?random=3",
                page: "充电站",
                status: "inactive",
                uploadDate: "2024-01-25 16:45:12"
            }
        ];

        // 渲染图片管理表格
        function renderImageManagementTable() {
            const solutionGrid = document.getElementById('solutionGrid');
            // 添加table-mode类，让表格铺满整个区域
            solutionGrid.classList.add('table-mode');
            solutionGrid.innerHTML = `
                <div class="image-management-container">
                    <div class="table-header">
                        <h3 class="table-title">banner管理</h3>
                    </div>
                    <div class="table-container">
                        ${imageData.length > 0 ? renderImageTable() : renderEmptyState()}
                    </div>
                </div>
            `;
        }

        // 渲染图片表格
        function renderImageTable() {
            return `
                <table class="image-table">
                    <thead>
                        <tr>
                            <th style="width: 200px;">所属页面</th>
                            <th style="width: 150px; text-align: left; white-space: nowrap; margin-left: -500px;">上传时间</th>
                            <th style="width: 150px;">操作</th>
                        </tr>
                    </thead>
                    <tbody>
                        ${imageData.map(image => `
                            <tr>
                                <td style="font-weight: 500; color: #000;">${image.page}</td>
                                <td style="color: rgba(0, 0, 0, 0.6); white-space: nowrap; margin-left: -500px;">${image.uploadDate}</td>
                                <td>
                                    <div class="action-buttons">
                                        ${image.url ? `<button class="btn-preview" onclick="previewImage(${image.id})">预览</button>` : ''}
                                        <button class="btn-edit" onclick="editImage(${image.id})">编辑</button>
                                    </div>
                                </td>
                            </tr>
                        `).join('')}
                    </tbody>
                </table>
            `;
        }

        // 渲染空状态
        function renderEmptyState() {
            return `
                <div class="empty-state">
                    <div class="empty-icon">🖼️</div>
                    <div class="empty-text">暂无banner数据</div>
                </div>
            `;
        }

        // 打开图片编辑模态框
        function openImageModal(imageId = null) {
            const isEdit = imageId !== null;
            const image = isEdit ? imageData.find(img => img.id === imageId) : null;
            
            const modalHtml = `
                <div class="modal-overlay" id="imageModal" onclick="closeModal(event)">
                    <div class="modal-content" onclick="event.stopPropagation()">
                        <div class="modal-header">
                            <h3 class="modal-title">${isEdit ? '编辑图片' : '添加图片'}</h3>
                            <button class="modal-close" onclick="closeModal()">&times;</button>
                        </div>
                        <form id="imageForm">
                            <div class="form-group">
                                <label class="form-label">所属页面</label>
                                <input type="text" class="form-input" id="imagePage" value="${image?.page || ''}" readonly style="background-color: #f5f5f5; cursor: not-allowed;">
                            </div>
                            <div class="form-group">
                                <label class="form-label">图片文件</label>
                                <div class="file-input-group" onclick="document.getElementById('imageFile').click()">
                                    <input type="file" class="file-input" id="imageFile" accept="image/*" onchange="handleFileSelect(this)">
                                    <div id="fileDropZone">
                                        ${image?.url ? 
                                            `<img src="${image.url}" style="max-width: 200px; max-height: 150px; border-radius: 6px; margin-bottom: 10px;"><br>` :
                                            ''
                                        }
                                        <div style="color: #000; font-weight: 500;">点击选择文件或拖拽到这里</div>
                                        <div style="color: #999; font-size: 12px; margin-top: 4px;">支持 JPG, PNG, GIF 格式，最大 5MB</div>
                                    </div>
                                </div>
                            </div>
                        </form>
                        <div class="modal-actions">
                            <button class="btn-cancel" onclick="closeModal()">取消</button>
                            <button class="btn-save" onclick="saveImage(${imageId})">${isEdit ? '保存' : '添加'}</button>
                        </div>
                    </div>
                </div>
            `;
            
            document.body.insertAdjacentHTML('beforeend', modalHtml);
            setupFileDropZone();
        }

        // 设置文件拖拽功能
        function setupFileDropZone() {
            const dropZone = document.getElementById('fileDropZone');
            const fileInput = document.getElementById('imageFile');
            
            ['dragenter', 'dragover', 'dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, preventDefaults, false);
            });
            
            ['dragenter', 'dragover'].forEach(eventName => {
                dropZone.addEventListener(eventName, () => dropZone.parentElement.classList.add('dragover'), false);
            });
            
            ['dragleave', 'drop'].forEach(eventName => {
                dropZone.addEventListener(eventName, () => dropZone.parentElement.classList.remove('dragover'), false);
            });
            
            dropZone.addEventListener('drop', handleDrop, false);
            
            function preventDefaults(e) {
                e.preventDefault();
                e.stopPropagation();
            }
            
            function handleDrop(e) {
                const dt = e.dataTransfer;
                const files = dt.files;
                if (files.length > 0) {
                    fileInput.files = files;
                    handleFileSelect(fileInput);
                }
            }
        }

        // 处理文件选择
        function handleFileSelect(input) {
            const file = input.files[0];
            if (file) {
                if (file.size > 5 * 1024 * 1024) {
                    alert('文件大小不能超过5MB');
                    return;
                }
                
                const reader = new FileReader();
                reader.onload = function(e) {
                    const dropZone = document.getElementById('fileDropZone');
                    dropZone.innerHTML = `
                        <img src="${e.target.result}" style="max-width: 200px; max-height: 150px; border-radius: 6px; margin-bottom: 10px;"><br>
                        <div style="color: #52c41a; font-weight: 500;">✓ ${file.name}</div>
                        <div style="color: #999; font-size: 12px; margin-top: 4px;">点击可重新选择文件</div>
                    `;
                };
                reader.readAsDataURL(file);
            }
        }

        // 保存图片
        function saveImage(imageId) {
            const form = document.getElementById('imageForm');
            const formData = new FormData(form);
            const fileInput = document.getElementById('imageFile');
            
            const imageInfo = {
                id: imageId || Date.now(),
                name: `${document.getElementById('imagePage').value}banner`,
                description: `${document.getElementById('imagePage').value}页面banner图片`,
                page: document.getElementById('imagePage').value,
                status: 'active',
                uploadDate: imageId ? imageData.find(img => img.id === imageId)?.uploadDate : new Date().toLocaleString('zh-CN', {year: 'numeric', month: '2-digit', day: '2-digit', hour: '2-digit', minute: '2-digit', second: '2-digit'}).replace(/\//g, '-'),
                url: ''
            };
            
            // 处理图片文件
            if (fileInput.files[0]) {
                const reader = new FileReader();
                reader.onload = function(e) {
                    imageInfo.url = e.target.result;
                    updateImageData(imageInfo, imageId);
                };
                reader.readAsDataURL(fileInput.files[0]);
            } else {
                // 如果没有选择新文件，保持原来的URL
                if (imageId) {
                    const existingImage = imageData.find(img => img.id === imageId);
                    imageInfo.url = existingImage?.url || '';
                }
                updateImageData(imageInfo, imageId);
            }
        }

        // 更新图片数据
        function updateImageData(imageInfo, imageId) {
            if (imageId) {
                const index = imageData.findIndex(img => img.id === imageId);
                if (index !== -1) {
                    imageData[index] = imageInfo;
                }
            } else {
                imageData.push(imageInfo);
            }
            
            localStorage.setItem('residentialImages', JSON.stringify(imageData));
            closeModal();
            renderImageManagementTable();
            alert('保存成功！');
        }

        // 预览图片
        function previewImage(imageId) {
            const image = imageData.find(img => img.id === imageId);
            if (image && image.url) {
                const previewModal = document.createElement('div');
                previewModal.className = 'modal-overlay';
                previewModal.innerHTML = `
                    <div style="text-align: center; color: white; font-size: 16px;">
                        加载中...
                    </div>
                `;
                document.body.appendChild(previewModal);
                
                // 预加载图片
                const img = new Image();
                img.onload = function() {
                    previewModal.innerHTML = `
                        <div style="position: relative; display: inline-block;">
                            <button class="modal-close" onclick="this.closest('.modal-overlay').remove()" style="position: absolute; top: -50px; right: 0px; background: rgba(255,255,255,0.9); color: #000; border: 2px solid #000; width: 40px; height: 40px; border-radius: 50%; font-size: 20px; cursor: pointer; font-weight: bold;">&times;</button>
                            <img src="${image.url}" alt="预览图片" style="max-width: 90vw; max-height: 90vh; object-fit: contain; display: block; border-radius: 12px;">
                        </div>
                    `;
                };
                img.onerror = function() {
                    previewModal.innerHTML = `
                        <div style="text-align: center; color: white; font-size: 16px;">
                            图片加载失败
                            <br><br>
                            <button onclick="this.closest('.modal-overlay').remove()" style="padding: 10px 20px; background: white; border: none; border-radius: 5px; cursor: pointer;">关闭</button>
                        </div>
                    `;
                };
                img.src = image.url;
                
                // 点击遮罩关闭
                previewModal.onclick = (e) => {
                    if (e.target === previewModal) {
                        previewModal.remove();
                    }
                };
            }
        }

        // 编辑图片
        function editImage(imageId) {
            openImageModal(imageId);
        }

        // 上传图片（针对没有图片的条目）
        function uploadImage(imageId) {
            openImageModal(imageId);
        }

        // 删除图片
        function deleteImage(imageId) {
            if (confirm('确定要删除这张图片吗？')) {
                imageData = imageData.filter(img => img.id !== imageId);
                localStorage.setItem('residentialImages', JSON.stringify(imageData));
                renderImageManagementTable();
                alert('删除成功！');
            }
        }

        // 关闭模态框
        function closeModal(event) {
            if (event && event.target.classList.contains('modal-content')) return;
            const modal = document.getElementById('imageModal');
            if (modal) {
                modal.remove();
            }
        }

        // 初始化页面
        document.addEventListener('DOMContentLoaded', async function() {
            
            // 初始化通用侧边栏
            initUniversalSidebar();
            
            
            // 渲染解决方案列表
            renderSolutions();
            
            // 强制确保解决方案菜单展开
            setTimeout(() => {
                const solutionsGroup = document.getElementById('solutionsGroup');
                const solutionsNav = document.getElementById('solutionsNav');
                if (solutionsGroup && solutionsNav) {
                    solutionsGroup.classList.add('expanded');
                    solutionsNav.classList.add('active');
                    console.log('Force expanded solutions menu');
                }
            }, 100);
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            const userAvatar = document.getElementById('userAvatar');
            const userDropdown = document.getElementById('userDropdown');
            if (userDropdown && !userAvatar.contains(e.target)) {
                userDropdown.classList.remove('show');
            }
        });

        // User Authentication and Logout
        // No authentication required - direct access
        const userName = 'Admin'; // 默认用户名

        // Set avatar
        const userAvatar = document.getElementById('userAvatar');
        userAvatar.childNodes[0].textContent = userName.charAt(0).toUpperCase();
        
        // User menu functionality
        const userDropdown = document.getElementById('userDropdown');
        const logoutBtn = document.getElementById('logoutBtn');
        
        // Toggle dropdown on avatar click
        userAvatar.addEventListener('click', (e) => {
            e.stopPropagation();
            userDropdown.classList.toggle('show');
        });
        
        // Logout button click
        logoutBtn.addEventListener('click', () => {
            // Close dropdown first
            userDropdown.classList.remove('show');
            
            // Show custom modal
            const logoutModal = document.getElementById('logoutModal');
            logoutModal.classList.add('show');
        });
        
        // Modal event listeners
        const logoutModal = document.getElementById('logoutModal');
        const cancelLogout = document.getElementById('cancelLogout');
        const confirmLogout = document.getElementById('confirmLogout');
        
        // Cancel logout function
        function hideLogoutModal() {
            const logoutModal = document.getElementById('logoutModal');
            logoutModal.classList.remove('show');
        }
        
        // Cancel logout event listener (backup)
        cancelLogout.addEventListener('click', () => {
            logoutModal.classList.remove('show');
        });
        
        // Logout function
        function performLogout() {
            console.log('performLogout called!');
            // Clear all login tokens
            localStorage.removeItem('adminToken');
            localStorage.removeItem('adminUser');
            sessionStorage.removeItem('adminToken');
            sessionStorage.removeItem('adminUser');
            
            console.log('Tokens cleared, redirecting...');
            // Redirect to login page
            window.location.href = '登录页面.html';
        }

        // Confirm logout
        if (confirmLogout) {
            confirmLogout.addEventListener('click', performLogout);
        } else {
            console.error('confirmLogout element not found!');
        }
        
        // Close modal when clicking backdrop
        logoutModal.addEventListener('click', (e) => {
            if (e.target === logoutModal) {
                logoutModal.classList.remove('show');
            }
        });
        
    </script>
    
    <!-- Custom Logout Confirmation Modal -->
    <div class="custom-modal" id="logoutModal">
        <div class="modal-content">
            <div class="modal-icon">⚠️</div>
            <h3 class="modal-title">确认退出</h3>
            <p class="modal-message">确定要退出登录吗？退出后需要重新登录才能使用系统。</p>
            <div class="modal-buttons">
                <button class="modal-btn modal-btn-cancel" id="cancelLogout" onclick="hideLogoutModal()">取消</button>
                <button class="modal-btn modal-btn-confirm" id="confirmLogout" onclick="performLogout()">确认退出</button>
            </div>
        </div>
    </div>

</body>
</html>